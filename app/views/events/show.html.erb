<%= link_to 'home', root_path %>


<div class="event">
    <h3><%= @event.title %></h3>
    <p><%= @event.description %></p>
    <p><strong>Location:</strong> <%= @event.location %></p>
    <p><strong>Date:</strong> <%= @event.date.strftime("%B %d, %Y") %></p>
    <p><strong>Time:</strong> <%= @event.time.strftime("%I:%M %p") %></p>
    <% if @event.creator == current_user %>
        <%= button_to 'Delete', event_path(@event), method: :delete %>
        <%= link_to 'Edit event', edit_event_path(@event) %>
    <% end %>
    <%= button_to attend_unattend_text(@event), attend_unattend(@event), method: :post %>
</div>

<!-- app/views/invitations/new.html.erb -->




<h3> Attendees </h3>
<% @attendees.each do |attendee| %>
    <%= link_to attendee, style: 'text-decoration: none; color: #333' do %>
        <p><%= attendee.name %>
        <span><%= attendee.username %></span></p>
    <% end %>
<% end %>


<% if @event.creator == current_user %>

    <h1>New Invitation</h1>

    <%= form_with(model: [@event, @invitation]) do |form| %>
    <%= form.hidden_field :event_id %>

    <div>
        <%= form.label :user_ids, 'Users' %>
        <%= form.collection_select :user_ids, User.where.not(id: @event.attendees.select(:id)), :id, :name, {}, { multiple: true } %>
    </div>

    <%= form.submit 'Send Invitations' %>
    <% end %>

    <h3>Invitations</h3>

    <% @invitations.each do |invite| %>
        <p><%= invite.user.name %>
        <p><%= invite.status %>
    <% end %>
<% end %>